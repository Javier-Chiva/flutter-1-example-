import 'dart:html';

void main() {
  var rosco = Rosco();
  var primeraDefinicion = rosco.obtenerPregunta();

  var preguntaElement = querySelector("#pregunta");
  if (preguntaElement != null) {
    preguntaElement.text = primeraDefinicion.definicion;
  }

  var preguntaLetra = querySelector("#letra");
  if (preguntaLetra != null) {
    preguntaLetra.text = primeraDefinicion.letra;
  }

  querySelector("#btnEnviar")?.onClick?.listen((event) {
    var respuesta = (querySelector("#textRespuesta") as InputElement?)?.value;
    var letra = querySelector("#letra")?.text;
    
 

    if (respuesta != null && letra != null) {
      // Aquí puedes colocar la lógica para usar las variables 'respuesta' y 'letra'.
      print("Respuesta: $respuesta, Letra: $letra");
    }
    
   String mensaje = rosco.evaluarRespuesta(letra, String respuesta);
   print(mensaje);
  });
}

class Rosco {
  List<Pregunta> roscoPreguntas = [];

  static List letras = const ["A", "B", "C", "D", "E", "F"];
  static List definiciones = const [
    "Persona que tripula una Astronave o que está entrenada para este Trabajo",
    "Especie de Talega o Saco de Tela y otro material que sirve para llevar o guardar algo",
    "Aparato destinado a registrar imágenes animadas para el cine o la televisión",
    "Obra literaria escrita para ser representada",
    "Que se prolonga muchísimo o excesivamente",
    "Laboratorio y despacho del farmacéutico"
  ];
  static List respuestas = [
    "Astronauta",
    "Bolsa",
    "Cámara",
    "Drama",
    "Eterno",
    "Farmacia"
  ];

  Rosco() {
    for (var letra in letras) {
      var index = letras.indexOf(letra);
      var roscoPregunta =
          Pregunta(letra, definiciones[index], respuestas[index]);
      roscoPreguntas.add(roscoPregunta);
    }
  }

  Pregunta obtenerPregunta() {
    return roscoPreguntas[0];
  }

  Pregunta pasapalabra() {
    return Pregunta("", "", "");
  }
  
 String evaluarRespuesta(String letra, String? respuesta) {
  var esCorrecta = roscoPreguntas.any((rosco) => 
    rosco.letra == letra && rosco.respuesta == respuesta);
  
  if (esCorrecta) {
    return "Letra $letra respuesta correcta"; 
  }
  return "Letra $letra respuesta incorrecta";
}

}

class Pregunta {
  String letra;
  String definicion;
  String respuesta;

  Pregunta(this.letra, this.definicion, this.respuesta);
}
